{
  "repository": "/home/loomworks3/MCP Library/mcp-gateway",
  "analyzed_files": 7,
  "languages": [
    "python",
    "javascript"
  ],
  "candidates": [
    {
      "function_name": "_calculate_mcp_score",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/repository_analyzer.py",
      "language": "python",
      "mcp_score": 10.0,
      "description": "Calculate how suitable a function is for MCP tool conversion",
      "parameters": {
        "function": {
          "type": "FunctionCandidate",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "_calculate_mcp_score",
      "docker_requirements": []
    },
    {
      "function_name": "calculate_risk_score",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/security/pattern_scanner.py",
      "language": "python",
      "mcp_score": 10.0,
      "description": "Calculate a risk score based on warnings",
      "parameters": {
        "warnings": {
          "type": "List[str]",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "calculate_risk_score",
      "docker_requirements": []
    },
    {
      "function_name": "is_safe_for_mcp",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/security/pattern_scanner.py",
      "language": "python",
      "mcp_score": 10.0,
      "description": "Determine if a function is safe enough for MCP tool conversion",
      "parameters": {
        "function": {
          "type": "FunctionCandidate",
          "description": null,
          "default": null,
          "required": true
        },
        "max_risk_score": {
          "type": "float",
          "description": null,
          "default": "2.0",
          "required": false
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "is_safe_for_mcp",
      "docker_requirements": []
    },
    {
      "function_name": "analyze_file",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/language_parsers/python_analyzer.py",
      "language": "python",
      "mcp_score": 10.0,
      "description": "Analyze a Python file and extract function candidates",
      "parameters": {
        "file_path": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "analyze_file",
      "docker_requirements": []
    },
    {
      "function_name": "analyze_source",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/language_parsers/python_analyzer.py",
      "language": "python",
      "mcp_score": 10.0,
      "description": "Analyze Python source code and extract function candidates",
      "parameters": {
        "source": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        },
        "file_path": {
          "type": "str",
          "description": null,
          "default": "''",
          "required": false
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "analyze_source",
      "docker_requirements": []
    },
    {
      "function_name": "_generate_mcp_parameters",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/repository_analyzer.py",
      "language": "python",
      "mcp_score": 9.5,
      "description": "Generate MCP parameter schema from function parameters",
      "parameters": {
        "function": {
          "type": "FunctionCandidate",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "_generate_mcp_parameters",
      "docker_requirements": []
    },
    {
      "function_name": "analyze_repository",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/repository_analyzer.py",
      "language": "python",
      "mcp_score": 9.0,
      "description": "Analyze a complete repository for MCP tool candidates",
      "parameters": {
        "repo_path": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "analyze_repository",
      "docker_requirements": []
    },
    {
      "function_name": "_discover_files",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/repository_analyzer.py",
      "language": "python",
      "mcp_score": 9.0,
      "description": "Discover all relevant source files in the repository",
      "parameters": {
        "repo_path": {
          "type": "Path",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [
        "MEDIUM RISK (code_generation): Pattern needs review: compile\\s*\\("
      ],
      "suggested_tool_name": "_discover_files",
      "docker_requirements": []
    },
    {
      "function_name": "_evaluate_mcp_candidates",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/repository_analyzer.py",
      "language": "python",
      "mcp_score": 9.0,
      "description": "Evaluate functions and convert suitable ones to MCP tool candidates",
      "parameters": {
        "functions": {
          "type": "List[FunctionCandidate]",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "_evaluate_mcp_candidates",
      "docker_requirements": []
    },
    {
      "function_name": "scan_function",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/security/pattern_scanner.py",
      "language": "python",
      "mcp_score": 9.0,
      "description": "Scan a function for security issues",
      "parameters": {
        "function": {
          "type": "FunctionCandidate",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "scan_function",
      "docker_requirements": []
    },
    {
      "function_name": "get_security_summary",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/security/pattern_scanner.py",
      "language": "python",
      "mcp_score": 9.0,
      "description": "Generate security summary for a list of functions",
      "parameters": {
        "functions": {
          "type": "List[FunctionCandidate]",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "get_security_summary",
      "docker_requirements": []
    },
    {
      "function_name": "send_message",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 8.5,
      "description": "Send JSON-RPC message to server and get response",
      "parameters": {
        "server_proc": {
          "type": "ServerProcess",
          "description": null,
          "default": null,
          "required": true
        },
        "message": {
          "type": "dict",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "send_message",
      "docker_requirements": [
        "json"
      ]
    },
    {
      "function_name": "get_or_spawn",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 8.5,
      "description": "Get existing process or spawn new one",
      "parameters": {
        "server_id": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        },
        "config": {
          "type": "dict",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "get_or_spawn",
      "docker_requirements": []
    },
    {
      "function_name": "save_result",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/repository_analyzer.py",
      "language": "python",
      "mcp_score": 8.0,
      "description": "Save analysis result to JSON file",
      "parameters": {
        "result": {
          "type": "AnalysisResult",
          "description": null,
          "default": null,
          "required": true
        },
        "output_path": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "save_result",
      "docker_requirements": []
    },
    {
      "function_name": "spawn_container",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 7.5,
      "description": "Spawn a Docker container for an MCP server",
      "parameters": {
        "server_id": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        },
        "config": {
          "type": "dict",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [
        "HIGH RISK (system_commands): Found potentially dangerous pattern: subprocess\\."
      ],
      "suggested_tool_name": "spawn_container",
      "docker_requirements": [
        "datetime"
      ]
    },
    {
      "function_name": "stop_server",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 7.5,
      "description": "Manually stop a running MCP server",
      "parameters": {
        "server_id": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "stop_server",
      "docker_requirements": []
    },
    {
      "function_name": "_extract_parameters",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/language_parsers/python_analyzer.py",
      "language": "python",
      "mcp_score": 7.5,
      "description": "Extract function parameters with type hints and defaults",
      "parameters": {
        "node": {
          "type": "ast.FunctionDef",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "_extract_parameters",
      "docker_requirements": []
    },
    {
      "function_name": "print_summary",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyze_repo.py",
      "language": "python",
      "mcp_score": 7.0,
      "description": "Print a summary of the analysis results",
      "parameters": {
        "result": {
          "type": null,
          "description": null,
          "default": null,
          "required": true
        },
        "candidates": {
          "type": null,
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "print_summary",
      "docker_requirements": []
    },
    {
      "function_name": "print_table_format",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyze_repo.py",
      "language": "python",
      "mcp_score": 7.0,
      "description": "Print results in a formatted table",
      "parameters": {
        "result": {
          "type": null,
          "description": null,
          "default": null,
          "required": true
        },
        "candidates": {
          "type": null,
          "description": null,
          "default": null,
          "required": true
        },
        "show_security": {
          "type": null,
          "description": null,
          "default": "False",
          "required": false
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "print_table_format",
      "docker_requirements": []
    },
    {
      "function_name": "execute_tool",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 7.0,
      "description": "Execute a tool on a specific MCP server",
      "parameters": {
        "server_id": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        },
        "tool_name": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        },
        "arguments": {
          "type": "Optional[Any]",
          "description": null,
          "default": "None",
          "required": false
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "execute_tool",
      "docker_requirements": [
        "json"
      ]
    },
    {
      "function_name": "_extract_return_type",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/language_parsers/python_analyzer.py",
      "language": "python",
      "mcp_score": 7.0,
      "description": "Extract return type hint",
      "parameters": {
        "node": {
          "type": "ast.FunctionDef",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "_extract_return_type",
      "docker_requirements": []
    },
    {
      "function_name": "list_available_tools",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 6.5,
      "description": "List all available tools from all registered MCP servers",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "list_available_tools",
      "docker_requirements": []
    },
    {
      "function_name": "list_active_servers",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 6.5,
      "description": "List currently active (running) MCP servers",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "list_active_servers",
      "docker_requirements": [
        "datetime"
      ]
    },
    {
      "function_name": "terminate_container",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 6.0,
      "description": "Terminate a Docker container",
      "parameters": {
        "server_id": {
          "type": "str",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "terminate_container",
      "docker_requirements": []
    },
    {
      "function_name": "visit_ClassDef",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/language_parsers/python_analyzer.py",
      "language": "python",
      "mcp_score": 6.0,
      "description": "Track class context for methods",
      "parameters": {
        "node": {
          "type": "ast.ClassDef",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "visit_ClassDef",
      "docker_requirements": []
    },
    {
      "function_name": "visit_FunctionDef",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/language_parsers/python_analyzer.py",
      "language": "python",
      "mcp_score": 6.0,
      "description": "Extract function definition information",
      "parameters": {
        "node": {
          "type": "ast.FunctionDef",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "visit_FunctionDef",
      "docker_requirements": []
    },
    {
      "function_name": "visit_AsyncFunctionDef",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/language_parsers/python_analyzer.py",
      "language": "python",
      "mcp_score": 6.0,
      "description": "Extract async function definition information",
      "parameters": {
        "node": {
          "type": "ast.AsyncFunctionDef",
          "description": null,
          "default": null,
          "required": true
        }
      },
      "security_warnings": [],
      "suggested_tool_name": "visit_AsyncFunctionDef",
      "docker_requirements": []
    },
    {
      "function_name": "idle_monitor",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 5.0,
      "description": "Background task to shutdown idle containers",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "idle_monitor",
      "docker_requirements": []
    },
    {
      "function_name": "start",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 5.0,
      "description": "Start the gateway server",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "start",
      "docker_requirements": []
    },
    {
      "function_name": "cleanup",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/gateway.py",
      "language": "python",
      "mcp_score": 5.0,
      "description": "Cleanup all running containers",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "cleanup",
      "docker_requirements": []
    },
    {
      "function_name": "main",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/repository_analyzer.py",
      "language": "python",
      "mcp_score": 4.5,
      "description": "CLI entry point for testing",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "main",
      "docker_requirements": []
    },
    {
      "function_name": "to_json",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyzer/models.py",
      "language": "python",
      "mcp_score": 4.5,
      "description": "Convert to JSON format",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "to_json",
      "docker_requirements": [
        "json"
      ]
    },
    {
      "function_name": "main",
      "file_path": "/home/loomworks3/MCP Library/mcp-gateway/analyze_repo.py",
      "language": "python",
      "mcp_score": 3.5,
      "description": "Main CLI entry point",
      "parameters": {},
      "security_warnings": [],
      "suggested_tool_name": "main",
      "docker_requirements": [
        "json"
      ]
    }
  ],
  "security_summary": {
    "total_functions": 34,
    "safe_functions": 33,
    "medium_risk_functions": 1,
    "high_risk_functions": 0,
    "total_warnings": 2
  }
}