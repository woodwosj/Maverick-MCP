# MCP Server Registry Configuration
# Defines available MCP servers and their capabilities

context7:
  image: "mcp-context7"
  command: ["node", "server.js"]
  description: "Context7 documentation retrieval service"
  environment:
    NODE_ENV: "production"
    CONTEXT7_API_KEY: "ctx7sk-6eb6cdfb-9869-47a4-9d9b-4b909142c99e"
  idle_timeout: 300  # 5 minutes
  tools:
    - name: "get_documentation"
      description: "Fetch up-to-date documentation for programming libraries"
      when_to_use: "When you need current API documentation, examples, or library information"
      parameters:
        type: "object"
        properties:
          library:
            type: "string"
            description: "Name of the library to get documentation for"
          version:
            type: "string" 
            description: "Specific version (optional)"
          topic:
            type: "string"
            description: "Specific topic or function to focus on (optional)"
        required: ["library"]
    
    - name: "search_code_examples"
      description: "Search for code examples and usage patterns"
      when_to_use: "When you need working code examples or usage patterns for a library"
      parameters:
        type: "object"
        properties:
          library:
            type: "string"
            description: "Library name"
          query:
            type: "string"
            description: "Search query for specific functionality"
        required: ["library", "query"]

mcp-docs:
  image: "mcp-docs-server"
  command: ["python", "mcp_docs_server.py"]
  description: "MCP and FastMCP documentation server providing protocol reference and guides"
  environment:
    LOG_LEVEL: "INFO"
  idle_timeout: 600  # 10 minutes - keep documentation available longer
  tools:
    - name: "search_documentation"
      description: "Search across all MCP and FastMCP documentation"
      when_to_use: "When you need to find specific information about MCP protocol, FastMCP framework, or repository analyzer"
      parameters:
        type: "object"
        properties:
          query:
            type: "string"
            description: "Search query terms"
          category:
            type: "string"
            description: "Optional category filter (mcp, fastmcp, analyzer)"
        required: ["query"]
    
    - name: "list_documentation_topics"
      description: "List all available documentation topics and categories"
      when_to_use: "When you want to see what documentation is available"
      parameters:
        type: "object"
        properties: {}
    
    - name: "get_documentation_index"
      description: "Get a complete index of all available documentation"
      when_to_use: "When you need a comprehensive overview of all documentation resources"
      parameters:
        type: "object"
        properties: {}
  
  resources:
    - pattern: "docs://mcp/concepts/**"
      description: "MCP protocol concept documentation (tools, resources, prompts, protocol)"
      when_to_use: "For understanding core MCP concepts and protocol details"
    
    - pattern: "docs://mcp/guides/**"  
      description: "MCP protocol guides and tutorials"
      when_to_use: "For step-by-step guidance on building and using MCP servers"
    
    - pattern: "docs://fastmcp/**"
      description: "FastMCP framework documentation and API reference"
      when_to_use: "For learning how to use the FastMCP Python framework"
    
    - pattern: "docs://analyzer/**"
      description: "Repository analyzer documentation and scoring guides"
      when_to_use: "For understanding how the repository analyzer works and conversion processes"

# Example of how to add another MCP server
# weather_server:
#   image: "mcp-weather"
#   command: ["python", "-m", "weather_server"]
#   description: "Weather information service"
#   environment:
#     API_KEY: "${WEATHER_API_KEY}"
#   idle_timeout: 600  # 10 minutes
#   tools:
#     - name: "get_current_weather"
#       description: "Get current weather conditions"
#       when_to_use: "When you need current weather information for a location"
#       parameters:
#         type: "object"
#         properties:
#           location:
#             type: "string"
#             description: "City name or coordinates"
#         required: ["location"]